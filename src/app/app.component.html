<div class="ui container">
  <div class="ui centered grid">
    <loading-dimmer [loading]="vService.isLoading()"></loading-dimmer>
    <div class="row">
      <h1 class="ui header">Traffic Meister /w Angular 2+</h1>
    </div>
    <div class="row">
      <p>Our app is currently not yet accessible for screen reader software, sorry for this inconvenience</p>
    </div>
    <div class="fourteen wide column">
      <form [formGroup]="filterGroup"
            class="ui form">
        <div class="ui four column stackable grid">
          <div class="ui column">
            <div class="ui segment">
              <div class="grouped fields">
                <label>Choose your vehicle type</label>
                <div *ngFor="let type of vService.getTypes()"
                     class="field">
                  <div class="ui radio checkbox">
                    <input type="radio" name="vehicle_type" id="vehicle_type_{{type}}" [value]="type" formControlName="vehicle_type">
                    <label for="vehicle_type_{{type}}">{{type | titlecase}}</label>
                  </div>
                </div>
              </div>
              <button (click)="resetSelected(filterGroup.controls['vehicle_type'])" class="fluid ui primary button">
                Reset
              </button>
            </div>
          </div>
          <div class="ui column">
            <div class="ui segment">
              <div class="ui form">
                <div class="grouped fields">
                  <label>Choose your vehicle brand</label>
                  <div *ngFor="let brand of vService.getBrands()"
                       class="field">
                    <div class="ui radio checkbox">
                      <input type="radio" name="vehicle_brand" id="vehicle_brand_{{brand}}" [value]="brand" formControlName="vehicle_brand">
                      <label for="vehicle_brand_{{brand}}">{{brand | titlecase}}</label>
                    </div>
                  </div>
                </div>
                <button (click)="resetSelected(filterGroup.controls['vehicle_brand'])" class="fluid ui primary button">
                  Reset
                </button>
              </div>
            </div>
          </div>
          <div class="ui column">
            <div class="ui segment">
              <div class="ui form">
                <div class="grouped fields">
                  <label>Choose your vehicle color</label>
                  <div *ngFor="let color of vService.getColors()"
                       class="field">
                    <div class="ui radio checkbox">
                      <input type="radio" name="vehicle_color" id="vehicle_color_{{color}}" [value]="color" formControlName="vehicle_color">
                      <label for="vehicle_color_{{color}}">{{color | titlecase}}</label>
                    </div>
                  </div>
                </div>
                <button (click)="resetSelected(filterGroup.controls['vehicle_color'])" class="fluid ui primary button">
                  Reset
                </button>
              </div>
            </div>
          </div>
          <div class="ui column">
            <div class="ui {{(selectedFilters.getColor() === 'white') || (selectedFilters.getColor() ==='yellow') ? 'inverted' : ''}} center aligned segment">
              <p><b>Current selection:</b></p>
              <div class="ui mini statistics">
                <div class="ui {{(selectedFilters.getColor() === 'white') || (selectedFilters.getColor() ==='yellow') ? 'inverted ' + selectedFilters.getColor() : selectedFilters.getColor()}} statistic">
                  <div class="value">
                    {{(selectedFilters.isTypeEmpty()) ? ('no type selected') :
                    !selectedFilters.isTypeEmpty() ? selectedFilters.getColor() + ' '
                    + selectedFilters.getType() : selectedFilters.getType()}}
                  </div>
                  <div class="label">
                    {{(selectedFilters.isBrandEmpty()) ? ('no brand selected') : selectedFilters.getBrand()}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="fourteen wide column">
      <div class="ui attached segments">
        <h2 *ngIf="!selectedFilters.isEmpty()"
            class="ui top centered attached header">
          You have selected a {{selectedFilters.getColor()}} {{selectedFilters.getBrand()}}
        </h2>
        <div class="ui {{selectedFilters.getColor()}} segment">
          <p *ngIf="selectedFilters.isEmpty()">
            Please complete you selection.</p>
          <div *ngIf="!selectedFilters.isEmpty()">
            <h3 class="ui center aligned icon header">
              <i class="{{(selectedFilters.getType() === 'airplane') ? 'plane' : vService.getVehicleChoice().type}} {{selectedFilters.getColor()}} icon"></i>
              <span class="content">
                {{vService.getVehicleChoice().brand}}
                <span class="sub header">{{selectedFilters.getColor()}} {{vService.getVehicleChoice().type}}</span>
              </span>
            </h3>
            <div class="ui center aligned grid">
              <div class="ui column">
                <img class="ui large centered rounded image"
                     style="opacity: 0.8;"
                     src="{{vService.getVehicleChoice().img}}"
                     title="{{vService.getVehicleChoice().brand}}">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <p>Copyright 2018 Serhan Uygur</p>
    </div>
  </div>
</div>
